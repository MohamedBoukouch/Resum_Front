{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hamza%20Elouattab/Desktop/IL/S3/Programmation%20Python/Projet/Resum_Front/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\r\nimport { twMerge } from 'tailwind-merge'\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hamza%20Elouattab/Desktop/IL/S3/Programmation%20Python/Projet/Resum_Front/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n        destructive:\r\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\r\n        secondary:\r\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n        ghost:\r\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\r\n        link: 'text-primary underline-offset-4 hover:underline',\r\n      },\r\n      size: {\r\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\r\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\r\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\r\n        icon: 'size-9',\r\n        'icon-sm': 'size-8',\r\n        'icon-lg': 'size-10',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'button'> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean\r\n  }) {\r\n  const Comp = asChild ? Slot : 'button'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hamza%20Elouattab/Desktop/IL/S3/Programmation%20Python/Projet/Resum_Front/components/ui/dropdown-menu.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu'\r\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction DropdownMenu({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\r\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\r\n}\r\n\r\nfunction DropdownMenuPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Trigger\r\n      data-slot=\"dropdown-menu-trigger\"\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuContent({\r\n  className,\r\n  sideOffset = 4,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Portal>\r\n      <DropdownMenuPrimitive.Content\r\n        data-slot=\"dropdown-menu-content\"\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md',\r\n          className,\r\n        )}\r\n        {...props}\r\n      />\r\n    </DropdownMenuPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuItem({\r\n  className,\r\n  inset,\r\n  variant = 'default',\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\r\n  inset?: boolean\r\n  variant?: 'default' | 'destructive'\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.Item\r\n      data-slot=\"dropdown-menu-item\"\r\n      data-inset={inset}\r\n      data-variant={variant}\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuCheckboxItem({\r\n  className,\r\n  children,\r\n  checked,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\r\n  return (\r\n    <DropdownMenuPrimitive.CheckboxItem\r\n      data-slot=\"dropdown-menu-checkbox-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      checked={checked}\r\n      {...props}\r\n    >\r\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\r\n        <DropdownMenuPrimitive.ItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </DropdownMenuPrimitive.ItemIndicator>\r\n      </span>\r\n      {children}\r\n    </DropdownMenuPrimitive.CheckboxItem>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuRadioGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\r\n  return (\r\n    <DropdownMenuPrimitive.RadioGroup\r\n      data-slot=\"dropdown-menu-radio-group\"\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuRadioItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\r\n  return (\r\n    <DropdownMenuPrimitive.RadioItem\r\n      data-slot=\"dropdown-menu-radio-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\r\n        <DropdownMenuPrimitive.ItemIndicator>\r\n          <CircleIcon className=\"size-2 fill-current\" />\r\n        </DropdownMenuPrimitive.ItemIndicator>\r\n      </span>\r\n      {children}\r\n    </DropdownMenuPrimitive.RadioItem>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuLabel({\r\n  className,\r\n  inset,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\r\n  inset?: boolean\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.Label\r\n      data-slot=\"dropdown-menu-label\"\r\n      data-inset={inset}\r\n      className={cn(\r\n        'px-2 py-1.5 text-sm font-medium data-[inset]:pl-8',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Separator\r\n      data-slot=\"dropdown-menu-separator\"\r\n      className={cn('bg-border -mx-1 my-1 h-px', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuShortcut({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<'span'>) {\r\n  return (\r\n    <span\r\n      data-slot=\"dropdown-menu-shortcut\"\r\n      className={cn(\r\n        'text-muted-foreground ml-auto text-xs tracking-widest',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuSub({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\r\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\r\n}\r\n\r\nfunction DropdownMenuSubTrigger({\r\n  className,\r\n  inset,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\r\n  inset?: boolean\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.SubTrigger\r\n      data-slot=\"dropdown-menu-sub-trigger\"\r\n      data-inset={inset}\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <ChevronRightIcon className=\"ml-auto size-4\" />\r\n    </DropdownMenuPrimitive.SubTrigger>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuSubContent({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\r\n  return (\r\n    <DropdownMenuPrimitive.SubContent\r\n      data-slot=\"dropdown-menu-sub-content\"\r\n      className={cn(\r\n        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  DropdownMenu,\r\n  DropdownMenuPortal,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuContent,\r\n  DropdownMenuGroup,\r\n  DropdownMenuLabel,\r\n  DropdownMenuItem,\r\n  DropdownMenuCheckboxItem,\r\n  DropdownMenuRadioGroup,\r\n  DropdownMenuRadioItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuShortcut,\r\n  DropdownMenuSub,\r\n  DropdownMenuSubTrigger,\r\n  DropdownMenuSubContent,\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 353, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hamza%20Elouattab/Desktop/IL/S3/Programmation%20Python/Projet/Resum_Front/lib/api.ts"],"sourcesContent":["const API_BASE_URL = \"http://127.0.0.1:8000/api\"\r\n\r\n// --------------------\r\n// Token Storage\r\n// --------------------\r\nexport const saveToken = (token: string) => localStorage.setItem(\"token\", token)\r\nexport const getToken = () => localStorage.getItem(\"token\")\r\nexport const removeToken = () => localStorage.removeItem(\"token\")\r\n\r\n// --------------------\r\n// User Storage\r\n// --------------------\r\nexport const saveUser = (user: Record<string, any>) =>\r\n  localStorage.setItem(\"user\", JSON.stringify(user))\r\n\r\nexport const getUser = () => {\r\n  const user = localStorage.getItem(\"user\")\r\n  if (!user) return null\r\n  try {\r\n    return JSON.parse(user)\r\n  } catch {\r\n    localStorage.removeItem(\"user\")\r\n    return null\r\n  }\r\n}\r\n\r\nexport const removeUser = () => localStorage.removeItem(\"user\")\r\n\r\n// --------------------\r\n// Fetch helper with token\r\n// --------------------\r\nasync function fetchAPI(endpoint: string, options: RequestInit = {}) {\r\n  const token = getToken()\r\n  const headers: Record<string, string> = {\r\n    \"Content-Type\": \"application/json\",\r\n    ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n    ...(options.headers as Record<string, string>),\r\n  }\r\n\r\n  const res = await fetch(`${API_BASE_URL}${endpoint}`, { ...options, headers })\r\n\r\n  if (!res.ok) {\r\n    const errData = await res.json().catch(() => null)\r\n    throw new Error(errData?.detail || \"API Error\")\r\n  }\r\n\r\n  return res.json()\r\n}\r\n\r\n// --------------------\r\n// Auth API\r\n// --------------------\r\nexport const authAPI = {\r\n  signup: async (data: { \r\n    email: string; \r\n    username: string; \r\n    password: string; \r\n    full_name: string \r\n  }) => fetchAPI(\"/auth/signup\", { method: \"POST\", body: JSON.stringify(data) }),\r\n\r\n  login: async (data: { username: string; password: string }) =>\r\n    fetchAPI(\"/auth/login\", { method: \"POST\", body: JSON.stringify(data) }),\r\n\r\n  me: async () => fetchAPI(\"/auth/me\"),\r\n\r\n  changePassword: async (data: { old_password: string; new_password: string }) =>\r\n    fetchAPI(\"/auth/change-password\", { method: \"POST\", body: JSON.stringify(data) }),\r\n\r\n    deleteAccount: async () =>\r\n    fetchAPI(\"/users/me\", { method: \"DELETE\" }),\r\n}\r\n\r\n// --------------------\r\n// User API\r\n// --------------------\r\n\r\nexport const userAPI = {\r\n  updateMe: async (data: Record<string, any>) =>\r\n    fetchAPI(\"/users/me\", { method: \"PUT\", body: JSON.stringify(data) }),\r\n\r\n\r\n}\r\n\r\n// --------------------\r\n// Summarization API\r\n// --------------------\r\nexport const summarizationAPI = {\r\n  generateSummary: async (data: {\r\n  text: string\r\n  mode?: \"summary\" | \"explanation\" | \"analysis\" | \"key_points\" | \"eli5\"\r\n  max_words?: number\r\n  user_prompt?: string\r\n}) =>\r\n  fetchAPI(\"/summarization/generate\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify({\r\n      text: data.text,\r\n      mode: data.mode || \"summary\",\r\n      max_words: data.max_words || 200,\r\n      user_prompt: data.user_prompt,\r\n    }),\r\n  }),\r\n\r\n  getHistory: async (params?: { skip?: number; limit?: number }) => {\r\n  const queryParams = new URLSearchParams()\r\n  if (params?.skip) queryParams.append(\"skip\", params.skip.toString())\r\n  if (params?.limit) queryParams.append(\"limit\", params.limit.toString())\r\n  \r\n  const query = queryParams.toString()\r\n  return fetchAPI(`/summarization/history${query ? `?${query}` : \"\"}`)\r\n},\r\n\r\n  getSummary: async (id: string) => fetchAPI(`/summarization/${id}`),\r\n  \r\n\r\n  deleteSummary: async (id: string) =>\r\n    fetchAPI(`/summarization/${id}`, { method: \"DELETE\" }),\r\n\r\n  uploadFile: async (data: {\r\n  file: File\r\n  mode?: \"summary\" | \"explanation\" | \"analysis\" | \"key_points\" | \"eli5\"\r\n  max_words?: number\r\n  user_prompt?: string\r\n}) => {\r\n  const formData = new FormData()\r\n  formData.append(\"file\", data.file)\r\n  \r\n  // Add optional parameters as form fields\r\n  if (data.mode) formData.append(\"mode\", data.mode)\r\n  if (data.max_words) formData.append(\"max_words\", data.max_words.toString())\r\n  if (data.user_prompt) formData.append(\"user_prompt\", data.user_prompt)\r\n\r\n  const token = getToken()\r\n  const headers: Record<string, string> = {\r\n    ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n  }\r\n\r\n  const res = await fetch(`${API_BASE_URL}/summarization/upload`, {\r\n    method: \"POST\",\r\n    body: formData,\r\n    headers,\r\n  })\r\n\r\n  if (!res.ok) {\r\n    const errData = await res.json().catch(() => null)\r\n    throw new Error(errData?.detail || \"API Error\")\r\n  }\r\n\r\n  return res.json()\r\n},\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 485, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hamza%20Elouattab/Desktop/IL/S3/Programmation%20Python/Projet/Resum_Front/components/dashboard/dashboard-header.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useRouter } from \"next/navigation\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Menu, LogOut, Settings, Moon, Sun } from \"lucide-react\"\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\"\r\nimport { getUser, removeToken, removeUser } from \"@/lib/api\"\r\n\r\nexport function DashboardHeader() {\r\n  const router = useRouter()\r\n  const [userEmail, setUserEmail] = useState(\"\")\r\n  const [isDark, setIsDark] = useState(false)\r\n  const [isMounted, setIsMounted] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setIsMounted(true)\r\n\r\n    const userData = getUser()\r\n    if (!userData) {\r\n      removeToken()\r\n      removeUser()\r\n      router.push(\"/login\")\r\n      return\r\n    }\r\n    setUserEmail(userData.email)\r\n\r\n    // Set theme\r\n    const isDarkMode = document.documentElement.classList.contains(\"dark\")\r\n    setIsDark(isDarkMode)\r\n  }, [router])\r\n\r\n  const toggleTheme = () => {\r\n    if (document.documentElement.classList.contains(\"dark\")) {\r\n      document.documentElement.classList.remove(\"dark\")\r\n      localStorage.setItem(\"theme\", \"light\")\r\n      setIsDark(false)\r\n    } else {\r\n      document.documentElement.classList.add(\"dark\")\r\n      localStorage.setItem(\"theme\", \"dark\")\r\n      setIsDark(true)\r\n    }\r\n  }\r\n\r\n  const handleLogout = () => {\r\n    removeToken()\r\n    removeUser()\r\n    router.push(\"/login\")\r\n  }\r\n\r\n  if (!isMounted) return null\r\n\r\n  return (\r\n    <header className=\"border-b border-border bg-card\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className=\"w-8 h-8 rounded-lg bg-primary flex items-center justify-center text-primary-foreground font-bold text-lg\">\r\n            TS\r\n          </div>\r\n          <h1 className=\"text-xl font-bold text-foreground\">TextSummarizer</h1>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            onClick={toggleTheme}\r\n            className=\"text-muted-foreground hover:text-foreground hover:bg-muted\"\r\n            title={isDark ? \"Switch to light mode\" : \"Switch to dark mode\"}\r\n          >\r\n            {isDark ? <Sun className=\"h-4 w-4\" /> : <Moon className=\"h-4 w-4\" />}\r\n          </Button>\r\n\r\n          <DropdownMenu>\r\n            <DropdownMenuTrigger asChild>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                className=\"text-muted-foreground hover:text-foreground hover:bg-muted\"\r\n              >\r\n                <Menu className=\"h-5 w-5\" />\r\n              </Button>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent align=\"end\" className=\"w-56\">\r\n              <div className=\"px-2 py-1.5 text-sm text-muted-foreground break-all\">{userEmail}</div>\r\n              <DropdownMenuSeparator />\r\n              <DropdownMenuItem\r\n                onClick={() => router.push(\"/profile\")}\r\n                className=\"cursor-pointer\"\r\n              >\r\n                <Settings className=\"h-4 w-4 mr-2\" />\r\n                Profile Settings\r\n              </DropdownMenuItem>\r\n              <DropdownMenuSeparator />\r\n              <DropdownMenuItem onClick={handleLogout} className=\"cursor-pointer text-destructive\">\r\n                <LogOut className=\"h-4 w-4 mr-2\" />\r\n                Sign Out\r\n              </DropdownMenuItem>\r\n            </DropdownMenuContent>\r\n          </DropdownMenu>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AAbA;;;;;;;;AAeO,SAAS;IACd,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,IAAA,kNAAS,EAAC;QACR,aAAa;QAEb,MAAM,WAAW,IAAA,qHAAO;QACxB,IAAI,CAAC,UAAU;YACb,IAAA,yHAAW;YACX,IAAA,wHAAU;YACV,OAAO,IAAI,CAAC;YACZ;QACF;QACA,aAAa,SAAS,KAAK;QAE3B,YAAY;QACZ,MAAM,aAAa,SAAS,eAAe,CAAC,SAAS,CAAC,QAAQ,CAAC;QAC/D,UAAU;IACZ,GAAG;QAAC;KAAO;IAEX,MAAM,cAAc;QAClB,IAAI,SAAS,eAAe,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS;YACvD,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;YAC1C,aAAa,OAAO,CAAC,SAAS;YAC9B,UAAU;QACZ,OAAO;YACL,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;YACvC,aAAa,OAAO,CAAC,SAAS;YAC9B,UAAU;QACZ;IACF;IAEA,MAAM,eAAe;QACnB,IAAA,yHAAW;QACX,IAAA,wHAAU;QACV,OAAO,IAAI,CAAC;IACd;IAEA,IAAI,CAAC,WAAW,OAAO;IAEvB,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCAA2G;;;;;;sCAG1H,8OAAC;4BAAG,WAAU;sCAAoC;;;;;;;;;;;;8BAGpD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,qIAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,SAAS;4BACT,WAAU;4BACV,OAAO,SAAS,yBAAyB;sCAExC,uBAAS,8OAAC,uMAAG;gCAAC,WAAU;;;;;qDAAe,8OAAC,0MAAI;gCAAC,WAAU;;;;;;;;;;;sCAG1D,8OAAC,qJAAY;;8CACX,8OAAC,4JAAmB;oCAAC,OAAO;8CAC1B,cAAA,8OAAC,qIAAM;wCACL,SAAQ;wCACR,MAAK;wCACL,WAAU;kDAEV,cAAA,8OAAC,0MAAI;4CAAC,WAAU;;;;;;;;;;;;;;;;8CAGpB,8OAAC,4JAAmB;oCAAC,OAAM;oCAAM,WAAU;;sDACzC,8OAAC;4CAAI,WAAU;sDAAuD;;;;;;sDACtE,8OAAC,8JAAqB;;;;;sDACtB,8OAAC,yJAAgB;4CACf,SAAS,IAAM,OAAO,IAAI,CAAC;4CAC3B,WAAU;;8DAEV,8OAAC,sNAAQ;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;sDAGvC,8OAAC,8JAAqB;;;;;sDACtB,8OAAC,yJAAgB;4CAAC,SAAS;4CAAc,WAAU;;8DACjD,8OAAC,oNAAM;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASnD"}},
    {"offset": {"line": 720, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hamza%20Elouattab/Desktop/IL/S3/Programmation%20Python/Projet/Resum_Front/app/summarize/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useRouter } from \"next/navigation\"\r\nimport { useEffect, useState, useRef } from \"react\"\r\nimport { DashboardHeader } from \"@/components/dashboard/dashboard-header\"\r\nimport { Send, Upload, Sparkles, MessageSquare, BookOpen, Loader2 } from \"lucide-react\"\r\n\r\ninterface Message {\r\n  id: string\r\n  type: 'user' | 'assistant'\r\n  content: string\r\n  timestamp: Date\r\n  interactiveData?: any\r\n}\r\n\r\ninterface SummaryMode {\r\n  value: string\r\n  label: string\r\n  icon: string\r\n  description: string\r\n}\r\n\r\nexport default function SummarizePage() {\r\n  const router = useRouter()\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false)\r\n  const [messages, setMessages] = useState<Message[]>([])\r\n  const [inputText, setInputText] = useState('')\r\n  const [documentText, setDocumentText] = useState('')\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [selectedMode, setSelectedMode] = useState('explanation')\r\n  const [uploadedFile, setUploadedFile] = useState<File | null>(null)\r\n  const messagesEndRef = useRef<HTMLDivElement>(null)\r\n  const fileInputRef = useRef<HTMLInputElement>(null)\r\n  const textareaRef = useRef<HTMLTextAreaElement>(null)\r\n\r\n  const modes: SummaryMode[] = [\r\n    { value: 'summary', label: 'Summary', icon: 'üìù', description: 'Quick overview' },\r\n    { value: 'explanation', label: 'Explain', icon: 'üéì', description: 'Detailed explanation' },\r\n    { value: 'analysis', label: 'Analyze', icon: 'üîç', description: 'Deep analysis' },\r\n    { value: 'key_points', label: 'Key Points', icon: 'üìå', description: 'Main takeaways' },\r\n    { value: 'eli5', label: 'ELI5', icon: 'üßí', description: 'Simple terms' },\r\n  ]\r\n\r\n  useEffect(() => {\r\n    const user = localStorage.getItem(\"user\")\r\n    if (!user) {\r\n      router.push(\"/login\")\r\n    } else {\r\n      setIsAuthenticated(true)\r\n    }\r\n  }, [router])\r\n\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' })\r\n  }, [messages])\r\n\r\n  // Auto-resize textarea\r\n  useEffect(() => {\r\n    if (textareaRef.current) {\r\n      textareaRef.current.style.height = 'auto'\r\n      textareaRef.current.style.height = textareaRef.current.scrollHeight + 'px'\r\n    }\r\n  }, [inputText])\r\n\r\n  // Get token helper function\r\n  const getAuthToken = () => {\r\n    // Try different possible token storage keys\r\n    const token = localStorage.getItem('access_token') || \r\n                  localStorage.getItem('token') || \r\n                  localStorage.getItem('authToken')\r\n    \r\n    if (!token) {\r\n      console.error('No authentication token found')\r\n      alert('Please login again')\r\n      router.push('/login')\r\n      return null\r\n    }\r\n    return token\r\n  }\r\n\r\n  const handleFileUpload = async (file: File) => {\r\n    const token = getAuthToken()\r\n    if (!token) return\r\n\r\n    setUploadedFile(file)\r\n    setIsLoading(true)\r\n\r\n    const formData = new FormData()\r\n    formData.append('file', file)\r\n    \r\n    // Add mode as form field (not in FormData, use URL params instead)\r\n    const url = `http://127.0.0.1:8000/api/summarization/upload?mode=${selectedMode}`\r\n\r\n    try {\r\n      console.log('Uploading file:', file.name)\r\n      console.log('Using mode:', selectedMode)\r\n      \r\n      const response = await fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n        body: formData,\r\n      })\r\n\r\n      console.log('Upload response status:', response.status)\r\n\r\n      if (response.status === 401) {\r\n        alert('Session expired. Please login again.')\r\n        router.push('/login')\r\n        return\r\n      }\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        console.error('Upload error:', errorData)\r\n        throw new Error(errorData.detail || 'Upload failed')\r\n      }\r\n\r\n      const data = await response.json()\r\n      console.log('Upload successful:', data)\r\n      \r\n      const userMessage: Message = {\r\n        id: Date.now().toString(),\r\n        type: 'user',\r\n        content: `üìÑ Uploaded: ${file.name}`,\r\n        timestamp: new Date(),\r\n      }\r\n\r\n      const assistantMessage: Message = {\r\n        id: (Date.now() + 1).toString(),\r\n        type: 'assistant',\r\n        content: data.summary,\r\n        timestamp: new Date(),\r\n        interactiveData: data.interactive_data,\r\n      }\r\n\r\n      setMessages(prev => [...prev, userMessage, assistantMessage])\r\n      setDocumentText(data.original_text)\r\n    } catch (error) {\r\n      console.error('Upload error:', error)\r\n      alert(`Failed to upload file: ${error instanceof Error ? error.message : 'Unknown error'}`)\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!inputText.trim() && !documentText) {\r\n      alert('Please enter some text or upload a document first')\r\n      return\r\n    }\r\n\r\n    const token = getAuthToken()\r\n    if (!token) return\r\n\r\n    const textToProcess = documentText || inputText.trim()\r\n    \r\n    if (textToProcess.length < 20) {\r\n      alert('Please provide at least 20 characters of text')\r\n      return\r\n    }\r\n\r\n    setIsLoading(true)\r\n\r\n    const userMessage: Message = {\r\n      id: Date.now().toString(),\r\n      type: 'user',\r\n      content: inputText.trim() || 'Analyze this document',\r\n      timestamp: new Date(),\r\n    }\r\n    setMessages(prev => [...prev, userMessage])\r\n    \r\n    const currentInput = inputText.trim()\r\n    setInputText('')\r\n\r\n    try {\r\n      console.log('Sending text for analysis...')\r\n      console.log('Mode:', selectedMode)\r\n      console.log('Text length:', textToProcess.length)\r\n      \r\n      const response = await fetch('http://127.0.0.1:8000/api/summarization/generate', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          text: textToProcess,\r\n          mode: selectedMode,\r\n          user_prompt: currentInput || undefined,\r\n          max_words: 800,\r\n        }),\r\n      })\r\n\r\n      console.log('Generate response status:', response.status)\r\n\r\n      if (response.status === 401) {\r\n        alert('Session expired. Please login again.')\r\n        router.push('/login')\r\n        return\r\n      }\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        console.error('Generate error:', errorData)\r\n        throw new Error(errorData.detail || 'Failed to generate summary')\r\n      }\r\n\r\n      const data = await response.json()\r\n      console.log('Generation successful')\r\n\r\n      const assistantMessage: Message = {\r\n        id: (Date.now() + 1).toString(),\r\n        type: 'assistant',\r\n        content: data.summary,\r\n        timestamp: new Date(),\r\n        interactiveData: data.interactive_data,\r\n      }\r\n\r\n      setMessages(prev => [...prev, assistantMessage])\r\n    } catch (error) {\r\n      console.error('Generate error:', error)\r\n      alert(`Failed to generate summary: ${error instanceof Error ? error.message : 'Unknown error'}`)\r\n      \r\n      // Remove the user message if the request failed\r\n      setMessages(prev => prev.filter(m => m.id !== userMessage.id))\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const renderInteractiveData = (data: any) => {\r\n    if (!data) return null\r\n\r\n    return (\r\n      <div className=\"mt-4 pt-4 border-t border-gray-200 space-y-4\">\r\n        {data.main_idea && (\r\n          <div className=\"space-y-2\">\r\n            <h4 className=\"text-sm font-semibold text-gray-900 flex items-center gap-2\">\r\n              üí° Main Idea\r\n            </h4>\r\n            <p className=\"text-sm text-gray-700 leading-relaxed\">{data.main_idea}</p>\r\n          </div>\r\n        )}\r\n        \r\n        {data.why_it_matters && (\r\n          <div className=\"space-y-2\">\r\n            <h4 className=\"text-sm font-semibold text-gray-900 flex items-center gap-2\">\r\n              üéØ Why It Matters\r\n            </h4>\r\n            <p className=\"text-sm text-gray-700 leading-relaxed\">{data.why_it_matters}</p>\r\n          </div>\r\n        )}\r\n        \r\n        {data.real_world_examples && data.real_world_examples.length > 0 && (\r\n          <div className=\"space-y-2\">\r\n            <h4 className=\"text-sm font-semibold text-gray-900 flex items-center gap-2\">\r\n              üåç Real-World Examples\r\n            </h4>\r\n            <ul className=\"space-y-2\">\r\n              {data.real_world_examples.map((example: string, idx: number) => (\r\n                <li key={idx} className=\"text-sm text-gray-700 bg-gray-50 rounded-lg p-3 border-l-4 border-primary\">\r\n                  {example}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        )}\r\n        \r\n        {data.key_takeaways && data.key_takeaways.length > 0 && (\r\n          <div className=\"space-y-2\">\r\n            <h4 className=\"text-sm font-semibold text-gray-900 flex items-center gap-2\">\r\n              üìå Key Takeaways\r\n            </h4>\r\n            <ul className=\"space-y-2\">\r\n              {data.key_takeaways.map((takeaway: string, idx: number) => (\r\n                <li key={idx} className=\"text-sm text-gray-700 bg-gray-50 rounded-lg p-3 border-l-4 border-primary\">\r\n                  {takeaway}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        )}\r\n        \r\n        {data.related_concepts && data.related_concepts.length > 0 && (\r\n          <div className=\"space-y-2\">\r\n            <h4 className=\"text-sm font-semibold text-gray-900 flex items-center gap-2\">\r\n              üîó Related Concepts\r\n            </h4>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {data.related_concepts.map((concept: string, idx: number) => (\r\n                <span\r\n                  key={idx}\r\n                  className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary/10 text-primary\"\r\n                >\r\n                  {concept}\r\n                </span>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {data.simple_analogy && (\r\n          <div className=\"space-y-2\">\r\n            <h4 className=\"text-sm font-semibold text-gray-900 flex items-center gap-2\">\r\n              üé® Simple Analogy\r\n            </h4>\r\n            <p className=\"text-sm text-gray-700 leading-relaxed bg-blue-50 p-3 rounded-lg border-l-4 border-blue-500\">\r\n              {data.simple_analogy}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!isAuthenticated) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50\">\r\n      <DashboardHeader />\r\n      \r\n      <main className=\"h-[calc(100vh-4rem)] flex\">\r\n        {/* Sidebar */}\r\n        <aside className=\"w-80 bg-white border-r border-gray-200 flex flex-col shadow-sm\">\r\n          {/* Header */}\r\n          <div className=\"p-6 border-b border-gray-200\">\r\n            <div className=\"flex items-center gap-3 mb-2\">\r\n              <Sparkles className=\"w-6 h-6 text-primary\" />\r\n              <h1 className=\"text-xl font-bold text-gray-900\">TextSummarizer</h1>\r\n            </div>\r\n            <p className=\"text-sm text-gray-600\">Interactive AI-powered analysis</p>\r\n          </div>\r\n\r\n          {/* Upload Section */}\r\n          <div className=\"p-6 border-b border-gray-200\">\r\n            <div\r\n              onClick={() => fileInputRef.current?.click()}\r\n              className=\"border-2 border-dashed border-primary rounded-xl p-6 text-center cursor-pointer transition-all hover:bg-primary/5 hover:border-primary/80\"\r\n            >\r\n              <Upload className=\"w-12 h-12 mx-auto mb-3 text-primary\" />\r\n              <div className=\"text-sm font-medium text-gray-900\">\r\n                {uploadedFile ? uploadedFile.name : 'Upload Document'}\r\n              </div>\r\n              <div className=\"text-xs text-gray-500 mt-1\">PDF, DOCX, or Images</div>\r\n              <input\r\n                ref={fileInputRef}\r\n                type=\"file\"\r\n                accept=\".pdf,.docx,.png,.jpg,.jpeg\"\r\n                onChange={(e) => e.target.files?.[0] && handleFileUpload(e.target.files[0])}\r\n                className=\"hidden\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Modes Section */}\r\n          <div className=\"flex-1 overflow-y-auto p-6\">\r\n            <h3 className=\"text-sm font-semibold text-gray-900 mb-3\">Analysis Mode</h3>\r\n            <div className=\"space-y-2\">\r\n              {modes.map((mode) => (\r\n                <button\r\n                  key={mode.value}\r\n                  onClick={() => setSelectedMode(mode.value)}\r\n                  className={`w-full flex items-center gap-3 p-3 rounded-xl border-2 transition-all text-left ${\r\n                    selectedMode === mode.value\r\n                      ? 'border-primary bg-primary/5'\r\n                      : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'\r\n                  }`}\r\n                >\r\n                  <span className=\"text-2xl\">{mode.icon}</span>\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"text-sm font-semibold text-gray-900\">{mode.label}</div>\r\n                    <div className=\"text-xs text-gray-500\">{mode.description}</div>\r\n                  </div>\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </aside>\r\n\r\n        {/* Chat Area */}\r\n        <div className=\"flex-1 flex flex-col bg-white\">\r\n          {/* Chat Header */}\r\n          <div className=\"px-8 py-5 border-b border-gray-200 bg-gradient-to-r from-primary to-purple-600\">\r\n            <h2 className=\"text-lg font-semibold text-white flex items-center gap-2\">\r\n              <MessageSquare className=\"w-5 h-5\" />\r\n              Conversation\r\n            </h2>\r\n          </div>\r\n\r\n          {/* Messages */}\r\n          <div className=\"flex-1 overflow-y-auto p-8 bg-gray-50\">\r\n            {messages.length === 0 ? (\r\n              <div className=\"flex flex-col items-center justify-center h-full text-center\">\r\n                <BookOpen className=\"w-20 h-20 text-gray-300 mb-6\" />\r\n                <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">Start Your Analysis</h3>\r\n                <p className=\"text-gray-600 max-w-md\">\r\n                  Upload a document or paste text (minimum 20 characters) to begin an interactive conversation with AI\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                {messages.map((message) => (\r\n                  <div\r\n                    key={message.id}\r\n                    className={`flex gap-4 mb-6 ${message.type === 'user' ? 'flex-row-reverse' : ''}`}\r\n                  >\r\n                    {/* Avatar */}\r\n                    <div\r\n                      className={`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 text-xl ${\r\n                        message.type === 'user'\r\n                          ? 'bg-gradient-to-br from-primary to-purple-600'\r\n                          : 'bg-gradient-to-br from-cyan-500 to-blue-600'\r\n                      }`}\r\n                    >\r\n                      {message.type === 'user' ? 'üë§' : 'ü§ñ'}\r\n                    </div>\r\n\r\n                    {/* Content */}\r\n                    <div\r\n                      className={`max-w-[70%] rounded-2xl p-5 shadow-sm ${\r\n                        message.type === 'user'\r\n                          ? 'bg-gradient-to-br from-primary to-purple-600 text-white'\r\n                          : 'bg-white border border-gray-200'\r\n                      }`}\r\n                    >\r\n                      <p className=\"text-[15px] leading-relaxed whitespace-pre-wrap\">\r\n                        {message.content}\r\n                      </p>\r\n                      {message.type === 'assistant' && renderInteractiveData(message.interactiveData)}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n\r\n                {isLoading && (\r\n                  <div className=\"flex gap-4 mb-6\">\r\n                    <div className=\"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 text-xl bg-gradient-to-br from-cyan-500 to-blue-600\">\r\n                      ü§ñ\r\n                    </div>\r\n                    <div className=\"bg-white rounded-2xl p-5 shadow-sm border border-gray-200 flex items-center gap-3\">\r\n                      <Loader2 className=\"w-5 h-5 animate-spin text-primary\" />\r\n                      <span className=\"text-sm text-gray-600\">Analyzing your text...</span>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                <div ref={messagesEndRef} />\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          {/* Input Area */}\r\n          <div className=\"p-6 border-t border-gray-200 bg-white\">\r\n            <div className=\"flex gap-3 items-end\">\r\n              <div className=\"flex-1 bg-gray-50 border border-gray-200 rounded-2xl px-5 py-3 focus-within:border-primary focus-within:bg-white transition-all\">\r\n                <textarea\r\n                  ref={textareaRef}\r\n                  value={inputText}\r\n                  onChange={(e) => setInputText(e.target.value)}\r\n                  onKeyDown={(e) => {\r\n                    if (e.key === 'Enter' && !e.shiftKey) {\r\n                      e.preventDefault()\r\n                      handleSendMessage()\r\n                    }\r\n                  }}\r\n                  placeholder=\"Ask a question or paste text to analyze (min 20 characters)...\"\r\n                  rows={1}\r\n                  className=\"w-full bg-transparent border-none outline-none resize-none text-[15px] text-gray-900 placeholder-gray-400 max-h-32\"\r\n                />\r\n              </div>\r\n              <button\r\n                onClick={handleSendMessage}\r\n                disabled={isLoading || (!inputText.trim() && !documentText)}\r\n                className=\"w-12 h-12 bg-gradient-to-br from-primary to-purple-600 text-white rounded-xl flex items-center justify-center transition-all hover:shadow-lg hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100\"\r\n              >\r\n                <Send className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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"}}]
}